<!-- <div class="container">
<%= simple_form_for [@flat, @schedule] do |f| %>
      <%= f.input :start, label: "heure de debut", as: :string, required: false, input_html: {class: "datepicker"} %>
      <%= f.input :end, label: "heure de fin", as: :string, required: false, input_html: {class: "datepicker"} %>
      <%= f.button :submit, "creer un creneau", class: "btn btn-primary" %>
      <% end %>
</div>

 -->

<div class="dashboard-data-set" data-line="appartements">
  <div class="d-flex">
    <%= render partial: 'shared/dashboard', locals: { flats: @flats, schedules: @schedules, documents: @documents} %>
    <div style=" width:100%;">
      <%= render partial: 'shared/navbar_dashboard', locals: { page_title: 'Appartements'}%>
      <div class="container d-flex justify-content-between">
        <% if @flat.photos.attached? %>
          <div class="card-flat">
            <div class="card-trip">
              <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <%= cl_image_tag @flat.photos[0].key, class: "d-block w-100 image", style: "height: 300px"%>
                  </div>
                  <% @flat.photos[1..@flat.photos.count].each do |photo| %>
                    <div class="carousel-item ">
                      <%= cl_image_tag photo.key, class: "d-block w-100 image", style: "height: 300px"%>
                    </div>
                  <% end %>
                  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        <div class="card-locataire">
          <div class="container">
            <% if @flat.rentings&.last&.user&.photo&.attached?  %>
              <%= cl_image_tag @flat.rentings.last.user.photo.key, class: 'avatar-extra-large' %>
            <% end %>
            <h3><%= @flat.rentings.last.user.first_name %><%= @flat.rentings.last.user.last_name %></h3>
            <ul>
              <li>
                <p>Locataire depuis <%= ((Time.now - @flat.rentings.last.created_at) / 86400).to_i %> jours</p>
              </li>
              <li>
                <p>Tél : <%= @flat.rentings.last.user.phone_number %></p>
              </li>
              <li>
                <p>Mail : <%= @flat.rentings.last.user.email %></p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="container d-flex justify-content-between">
        <div class="flat-informations">
          <div class="d-flex justify-content-between align-items-center">
            <h2><%= @flat.name %></h2>
            <h5><%= @flat.monthly_price.round %> €/mois</h5>
          </div>
          <h4><%= @flat.address %></h4>
          <div class="calendar-placeholder">
            <h2>Placeholder calendar</h2>
          </div>
        </div>
        <div id="title-description">
          <h4>Description appartement:</h4>
          <div class="d-flex">
              <div class="flat-informations-left">
                <p>
                  <% if @flat.number_of_rooms == 1 %>
                    <%= @flat.number_of_rooms %> pièce
                  <% else %>
                    <%= @flat.number_of_rooms %> pièces
                  <% end %>
                </p>
                <p>
                  <% if @flat.number_of_bedrooms == 1 %>
                    <%= @flat.number_of_bedrooms %> chambre
                  <% else %>
                    <%= @flat.number_of_bedrooms %> chambres
                  <% end %>
                </p>
                <p><%= @flat.surface.round %> m²</p>
                <p>
                  <% if @flat.floor == 1 %>
                    <%= @flat.floor %> er étage
                  <% else %>
                    <%= @flat.floor %> éme étage
                  <% end %>
                </p>
              </div>
              <div class="flat-informations-right">
                <% if @flat.furnished %>
                      <p> Meublé : Oui</p>
                <% else %>
                  <p> Meublé : Non</p>
                <% end %>
                <% if @flat.cellar %>
                  <p> Cave : Oui</p>
                <% else %>
                  <p> Cave : Non</p>
                <% end %>
                <% if @flat.parking %>
                  <p> Parking : Oui</p>
                <% else %>
                  <p> Parking : Non</p>
                <% end %>
                <% if @flat.elevator %>
                  <p> Ascenseur : Oui</p>
                <% else %>
                  <p> Ascenseur : Non</p>
                <% end %>
                <% if @flat.balcony %>
                  <p> Balcon : Oui</p>
                <% else %>
                  <p> Balcon : Non</p>
                <% end %>
                <% @flat.heating_system.split(",").each do |heating| %>
                  <p><%= heating %></p>
                <% end %>
                <input type="checkbox" id="switch" class="switch-input" /><label for="switch" class="switch-label">Toggle</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

